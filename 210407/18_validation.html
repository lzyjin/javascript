<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>유효성검사</title>
</head>
<body>
    <h2>유효성검사</h2>
    <p>
        유효성검사 : client에게 입력받은 값을 check하는 로직
        사용자가 입력한 값을 확인하는 작업
        기준대로 입력하면 데이터전송을 진행하거나 아니면 차단하는 로직
    </p>

    <form action="">
        아이디<input type="text" name="userId" id="userId"><br>
        패스워드<input type="password" name="pw" id="pw"><br>
        패스워드확인<input type="password" name="" id="pwck"><br>
        회원이름<input type="text" id="userName" name="userName"><br>
        <input type="submit" value="회원가입" onclick="return validate();">
    </form>

    <script>
        const validate = () => {
            let userId = document.getElementById("userId");

            // 아이디의 첫글자는 영소문자이고, 4~12글자로 만들어야한다.
            // 반드시 한개 이상의 숫자가 포함되어야한다.
            // 아이디는 영문과 숫자의 조합으로만 작성해야한다.

            let reg = /^[a-z][\da-zA-Z]{3,11}/;

            /*
            if(!reg.test(userId.value)) {

                alert("첫글자가 영소문자고 4~12글자의 숫자, 영문으로 작성해야 합니다");
                return false;

            }
            if(!/[\d]/.test(userId.value)) {

                alert("아이디에는 반드시 숫자가 포함되어야 합니다");
                return false;
            }
            */


            
            // 위의 조건을 한방에!
            reg = /^[a-z](?=.*?[\d])[a-z\dA-Z]{3,11}$/; 
            // 영문자 하나가 나오고
            // 어떤 문자가 나올수도 있고 안나올수도 있다 그 문자에 숫자가 포함되어있니? 
            // 영문자를 3개에서 11개 
            // ()는 대상문자열에서 탐색하는 것 

            if(!reg.test(userId.value)) {

                alert("형식을 지켜주세요");

                return false;
            }
            



            // 이름을 한글로 2~4글자만 입력가능하도록
            
            let userName = document.getElementById("userName");
            let regName = /[가-힣]{2,4}/;

            if(!regName.test(userName.value)) {

                alert("사용자 이름은 한글로 2글자이상 4글자 이하로 작성해야합니다");
                return false;
            }

            
        }
    </script>
</body>
</html>